{"ast":null,"code":"const handleLogin = async e => {\n  e.preventDefault();\n  setError(\"\");\n  if (!email || !password) {\n    setError(\"Please enter your email and password.\");\n    return;\n  }\n  try {\n    const res = await fetch(\"http://localhost:5000/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    const data = await res.json();\n    if (res.ok) {\n      // Save login info in localStorage\n      localStorage.setItem(\"isLoggedIn\", \"true\");\n      localStorage.setItem(\"userRole\", data.role);\n      localStorage.setItem(\"userName\", data.name);\n      localStorage.setItem(\"userEmail\", data.email);\n      navigate(\"/home\");\n    } else {\n      setError(data.error || \"Login failed\");\n    }\n  } catch (err) {\n    console.error(err);\n    setError(\"Server error. Please try again later.\");\n  }\n};","map":{"version":3,"names":["handleLogin","e","preventDefault","setError","email","password","res","fetch","method","headers","body","JSON","stringify","data","json","ok","localStorage","setItem","role","name","navigate","error","err","console"],"sources":["C:/Users/Mostafa Diab/Downloads/MOSTAFA_RESTAURANT/frontend/src/pages/Login.jsx"],"sourcesContent":["const handleLogin = async (e) => {\r\n  e.preventDefault();\r\n  setError(\"\");\r\n\r\n  if (!email || !password) {\r\n    setError(\"Please enter your email and password.\");\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const res = await fetch(\"http://localhost:5000/login\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ email, password }),\r\n    });\r\n\r\n    const data = await res.json();\r\n\r\n    if (res.ok) {\r\n      // Save login info in localStorage\r\n      localStorage.setItem(\"isLoggedIn\", \"true\");\r\n      localStorage.setItem(\"userRole\", data.role);\r\n      localStorage.setItem(\"userName\", data.name);\r\n      localStorage.setItem(\"userEmail\", data.email);\r\n\r\n      navigate(\"/home\");\r\n    } else {\r\n      setError(data.error || \"Login failed\");\r\n    }\r\n  } catch (err) {\r\n    console.error(err);\r\n    setError(\"Server error. Please try again later.\");\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAMA,WAAW,GAAG,MAAOC,CAAC,IAAK;EAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClBC,QAAQ,CAAC,EAAE,CAAC;EAEZ,IAAI,CAACC,KAAK,IAAI,CAACC,QAAQ,EAAE;IACvBF,QAAQ,CAAC,uCAAuC,CAAC;IACjD;EACF;EAEA,IAAI;IACF,MAAMG,GAAG,GAAG,MAAMC,KAAK,CAAC,6BAA6B,EAAE;MACrDC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAER,KAAK;QAAEC;MAAS,CAAC;IAC1C,CAAC,CAAC;IAEF,MAAMQ,IAAI,GAAG,MAAMP,GAAG,CAACQ,IAAI,CAAC,CAAC;IAE7B,IAAIR,GAAG,CAACS,EAAE,EAAE;MACV;MACAC,YAAY,CAACC,OAAO,CAAC,YAAY,EAAE,MAAM,CAAC;MAC1CD,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEJ,IAAI,CAACK,IAAI,CAAC;MAC3CF,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEJ,IAAI,CAACM,IAAI,CAAC;MAC3CH,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEJ,IAAI,CAACT,KAAK,CAAC;MAE7CgB,QAAQ,CAAC,OAAO,CAAC;IACnB,CAAC,MAAM;MACLjB,QAAQ,CAACU,IAAI,CAACQ,KAAK,IAAI,cAAc,CAAC;IACxC;EACF,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZC,OAAO,CAACF,KAAK,CAACC,GAAG,CAAC;IAClBnB,QAAQ,CAAC,uCAAuC,CAAC;EACnD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}